# Throw vs Throws in Java - Complete Study Notes üìö

## Introduction - Exception Handling Heroes! ü¶∏‚Äç‚ôÇÔ∏è

**Simple Analogy:**
- **throw** = Aapne ne ball feki (You throw the ball) üèÄ
- **throws** = Aapne kaha "mai ball fek sakta hu" (You declare "I might throw the ball") üì¢

**Real Life Example:**
- **throw**: "mai abhi(present mein) error feink raha hun!" - Actual action
- **throws**: "mai error feink sakta hu, ready raho" - Warning/Declaration

## Exception Handling Basics üéØ

**Exception Handling Kya Hai?**
- Runtime errors ko handle karne ka process
- Application ko crash hone se bachana
- Normal flow maintain ‡§ï‡§∞‡§®‡§æ

**Keywords:**
- `try` - Risky code likhte hain
- `catch` - Exception handle karte hai 
- `finally` - Cleanup code
- **`throw`** - Manually exception fekte hai
- **`throws`** - Method signature mai declare karte hain

## Java throw Keyword üöÄ

### **Definition:**
`throw` keyword ka use explicitly exception throw karne ke liye kiya jata hai.

### **Syntax:**
```java
throw new ExceptionClass("error message");
```

### **Key Points:**
- ‚úÖ **Manually exception create** karke fek sakte hai
- ‚úÖ **Only one exception at a time** fek sakte hai
- ‚úÖ **Throwable ya uski child class** honi chahiye
- ‚úÖ **Custom exceptions** create ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç

### **Basic Example:**
```java
public class ThrowExample {
    public static void checkAge(int age) {
        if (age < 18) {
            // Manually exception throw kar rahe hain
            throw new IllegalArgumentException("Age must be 18 or above");
        }
        System.out.println("Welcome! You are eligible.");
    }
    
    public static void main(String[] args) {
        try {
            checkAge(15);  // Exception throw hogi
        } catch (IllegalArgumentException e) {
            System.out.println("Error: " + e.getMessage());
        }
        
        checkAge(20);  // Normal execution
    }
}
```

**Output:**
```
Error: Age must be 18 or above
Welcome! You are eligible.
```

## Java throws Keyword üì¢

### **Definition:**
`throws` keyword method signature ‡§Æ‡•á‡§Ç use ‡§π‡•ã‡§§‡§æ hai exception declare ‡§ï‡§∞‡§®‡•á ‡§ï‡•á liye.

### **Syntax:**
```java
returnType methodName(parameters) throws ExceptionClass1, ExceptionClass2 {
    // method body
}
```

### **Key Points:**
- ‚úÖ **Method signature** ‡§Æ‡•á‡§Ç declare ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç
- ‚úÖ **Multiple exceptions** comma ‡§∏‡•á separate ‡§ï‡§∞‡§ï‡•á declare ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç
- ‚úÖ **Caller ‡§ï‡•ã responsibility** transfer ‡§π‡•ã ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à
- ‚úÖ **Checked exceptions** ‡§ï‡•á ‡§≤‡§ø‡§è mandatory ‡§π‡•à

### **Basic Example:**
```java
public class ThrowsExample {
    // Method declares that it might throw InterruptedException
    public static void sleepMethod() throws InterruptedException {
        System.out.println("Going to sleep for 2 seconds...");
        Thread.sleep(2000);  // This can throw InterruptedException
        System.out.println("Woke up!");
    }
    
    public static void main(String[] args) throws InterruptedException {
        sleepMethod();  // Caller handles the exception by declaring throws
        System.out.println("Main method completed");
    }
}
```

## Complete Comparison Table üìä

| **Property** | **throw** | **throws** |
|-------------|-----------|------------|
| **Purpose** | Explicitly exception ‡§´‡•á‡§Ç‡§ï‡§®‡§æ | Exception declare ‡§ï‡§∞‡§®‡§æ |
| **Usage Location** | Method/block ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ | Method signature ‡§Æ‡•á‡§Ç |
| **Number of Exceptions** | Only one at a time | Multiple (comma separated) |
| **Exception Type** | Actual exception object | Exception class names |
| **Syntax** | `throw new Exception()` | `methodName() throws Exception` |
| **When to Use** | Custom validation/error | Method may throw exception |
| **Followed By** | try-catch (‡§ï‡§π‡•Ä‡§Ç ‡§® ‡§ï‡§π‡•Ä‡§Ç) | Caller handles or declares |
| **Control Flow** | Immediately stops execution | Normal execution continues |

## Detailed Examples üé™

### **Example 1: Custom Exception with throw**
```java
// Custom exception class
class InvalidAgeException extends Exception {
    public InvalidAgeException(String message) {
        super(message);
    }
}

public class CustomExceptionExample {
    public static void validateAge(int age) throws InvalidAgeException {
        if (age < 0) {
            throw new InvalidAgeException("Age cannot be negative: " + age);
        }
        if (age > 150) {
            throw new InvalidAgeException("Age cannot be more than 150: " + age);
        }
        if (age < 18) {
            throw new InvalidAgeException("Age must be 18 or above for voting: " + age);
        }
        
        System.out.println("Valid age: " + age + ". You can vote!");
    }
    
    public static void main(String[] args) {
        int[] ages = {-5, 200, 15, 25};
        
        for (int age : ages) {
            try {
                validateAge(age);
            } catch (InvalidAgeException e) {
                System.out.println("Caught: " + e.getMessage());
            }
        }
    }
}
```

**Output:**
```
Caught: Age cannot be negative: -5
Caught: Age cannot be more than 150: 200
Caught: Age must be 18 or above for voting: 15
Valid age: 25. You can vote!
```

### **Example 2: File Operations with throws**
```java
import java.io.*;

public class FileOperationExample {
    // Method declares it might throw IOException
    public static void readFile(String fileName) throws IOException {
        FileReader file = new FileReader(fileName);
        BufferedReader reader = new BufferedReader(file);
        
        String line;
        while ((line = reader.readLine()) != null) {
            System.out.println(line);
        }
        
        reader.close();
    }
    
    // Method handles exception internally
    public static void readFileWithHandling(String fileName) {
        try {
            readFile(fileName);
        } catch (IOException e) {
            System.out.println("File error: " + e.getMessage());
        }
    }
    
    public static void main(String[] args) {
        // Option 1: Handle in main
        try {
            readFile("existing-file.txt");
        } catch (IOException e) {
            System.out.println("Main caught: " + e.getMessage());
        }
        
        // Option 2: Use method with internal handling
        readFileWithHandling("non-existing-file.txt");
    }
}
```

### **Example 3: Database Connection with throws**
```java
import java.sql.*;

public class DatabaseExample {
    // Multiple exceptions declared
    public static void connectToDatabase() throws SQLException, ClassNotFoundException {
        // Load driver
        Class.forName("com.mysql.cj.jdbc.Driver");
        
        // Connect to database
        Connection conn = DriverManager.getConnection(
            "jdbc:mysql://localhost:3306/testdb", 
            "username", 
            "password"
        );
        
        System.out.println("Database connected successfully!");
        conn.close();
    }
    
    public static void main(String[] args) {
        try {
            connectToDatabase();
        } catch (SQLException e) {
            System.out.println("Database error: " + e.getMessage());
        } catch (ClassNotFoundException e) {
            System.out.println("Driver not found: " + e.getMessage());
        }
    }
}
```

## Real-World Scenarios üåç

### **Scenario 1: Bank Account Validation**
```java
class InsufficientFundsException extends Exception {
    public InsufficientFundsException(String message) {
        super(message);
    }
}

class BankAccount {
    private double balance;
    
    public BankAccount(double initialBalance) {
        this.balance = initialBalance;
    }
    
    // Method throws custom exception
    public void withdraw(double amount) throws InsufficientFundsException {
        if (amount <= 0) {
            throw new IllegalArgumentException("Amount must be positive");
        }
        
        if (amount > balance) {
            // Custom business logic exception
            throw new InsufficientFundsException(
                "Insufficient funds. Available: " + balance + ", Requested: " + amount
            );
        }
        
        balance -= amount;
        System.out.println("Withdrawn: " + amount + ", Remaining: " + balance);
    }
    
    public double getBalance() {
        return balance;
    }
}

public class BankingExample {
    public static void main(String[] args) {
        BankAccount account = new BankAccount(1000);
        
        try {
            account.withdraw(500);   // Success
            account.withdraw(700);   // Should fail
        } catch (InsufficientFundsException e) {
            System.out.println("Banking error: " + e.getMessage());
        } catch (IllegalArgumentException e) {
            System.out.println("Invalid input: " + e.getMessage());
        }
    }
}
```

**Output:**
```
Withdrawn: 500, Remaining: 500.0
Banking error: Insufficient funds. Available: 500.0, Requested: 700.0
```

### **Scenario 2: User Registration System**
```java
class UserRegistrationException extends Exception {
    public UserRegistrationException(String message) {
        super(message);
    }
}

class UserValidator {
    public static void validateEmail(String email) throws UserRegistrationException {
        if (email == null || email.isEmpty()) {
            throw new UserRegistrationException("Email cannot be empty");
        }
        
        if (!email.contains("@")) {
            throw new UserRegistrationException("Invalid email format: " + email);
        }
    }
    
    public static void validatePassword(String password) throws UserRegistrationException {
        if (password == null || password.length() < 8) {
            throw new UserRegistrationException("Password must be at least 8 characters");
        }
        
        if (!password.matches(".*[0-9].*")) {
            throw new UserRegistrationException("Password must contain at least one digit");
        }
    }
    
    // Method declares multiple exceptions
    public static void registerUser(String email, String password) 
            throws UserRegistrationException {
        validateEmail(email);
        validatePassword(password);
        
        System.out.println("User registered successfully!");
        System.out.println("Email: " + email);
    }
}

public class UserRegistrationExample {
    public static void main(String[] args) {
        String[] emails = {"", "invalid-email", "user@example.com"};
        String[] passwords = {"123", "short", "password123"};
        
        for (int i = 0; i < emails.length; i++) {
            try {
                UserValidator.registerUser(emails[i], passwords[i]);
            } catch (UserRegistrationException e) {
                System.out.println("Registration failed: " + e.getMessage());
            }
            System.out.println("---");
        }
    }
}
```

**Output:**
```
Registration failed: Email cannot be empty
---
Registration failed: Invalid email format: invalid-email
---
User registered successfully!
Email: user@example.com
---
```

## throw vs throws - Practical Usage üí°

### **When to Use throw:**

#### **1. Input Validation:**
```java
public class InputValidator {
    public static void validateScore(int score) {
        if (score < 0 || score > 100) {
            throw new IllegalArgumentException("Score must be between 0 and 100");
        }
    }
}
```

#### **2. Business Logic Violations:**
```java
public class ShoppingCart {
    public void addItem(String item, int quantity) {
        if (quantity <= 0) {
            throw new IllegalArgumentException("Quantity must be positive");
        }
        
        if (item == null || item.trim().isEmpty()) {
            throw new IllegalArgumentException("Item name cannot be empty");
        }
        
        // Add item logic
    }
}
```

#### **3. Converting Checked to Unchecked:**
```java
public class DataProcessor {
    public void processData(String data) {
        try {
            // Some risky operation
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            // Convert checked to unchecked
            throw new RuntimeException("Processing interrupted", e);
        }
    }
}
```

### **When to Use throws:**

#### **1. File/IO Operations:**
```java
public class FileProcessor {
    public String readFile(String fileName) throws IOException {
        return new String(java.nio.file.Files.readAllBytes(
            java.nio.file.Paths.get(fileName)
        ));
    }
}
```

#### **2. Network Operations:**
```java
public class NetworkClient {
    public void connect(String url) throws MalformedURLException, IOException {
        java.net.URL website = new java.net.URL(url);
        java.net.URLConnection connection = website.openConnection();
        connection.connect();
    }
}
```

#### **3. Database Operations:**
```java
public class DatabaseManager {
    public void executeQuery(String sql) throws SQLException {
        // Database operation that might throw SQLException
    }
}
```

## Exception Hierarchy üå≥

```java
public class ExceptionHierarchyExample {
    
    // Throwing different types of exceptions
    public static void demonstrateExceptions(int type) throws Exception {
        switch (type) {
            case 1:
                throw new RuntimeException("Runtime Exception");  // Unchecked
                
            case 2:
                throw new IllegalArgumentException("Illegal Argument");  // Unchecked
                
            case 3:
                throw new IOException("IO Exception");  // Checked
                
            case 4:
                throw new SQLException("SQL Exception");  // Checked
                
            default:
                throw new Exception("Generic Exception");  // Checked
        }
    }
    
    public static void main(String[] args) {
        for (int i = 1; i <= 5; i++) {
            try {
                demonstrateExceptions(i);
            } catch (RuntimeException e) {
                System.out.println("Caught Runtime: " + e.getMessage());
            } catch (IOException e) {
                System.out.println("Caught IO: " + e.getMessage());
            } catch (SQLException e) {
                System.out.println("Caught SQL: " + e.getMessage());
            } catch (Exception e) {
                System.out.println("Caught Generic: " + e.getMessage());
            }
        }
    }
}
```

## Method Overriding with Exceptions üîÑ

### **Rules for throws in Method Overriding:**

```java
class Parent {
    // Parent method throws IOException
    public void method1() throws IOException {
        System.out.println("Parent method1");
    }
    
    // Parent method throws no exception
    public void method2() {
        System.out.println("Parent method2");
    }
    
    // Parent method throws Exception (broader)
    public void method3() throws Exception {
        System.out.println("Parent method3");
    }
}

class Child extends Parent {
    // ‚úÖ Same exception - OK
    @Override
    public void method1() throws IOException {
        System.out.println("Child method1");
    }
    
    // ‚úÖ Can add unchecked exception - OK  
    @Override
    public void method2() throws RuntimeException {
        System.out.println("Child method2");
    }
    
    // ‚úÖ More specific exception - OK
    @Override
    public void method3() throws IOException {  // IOException is subclass of Exception
        System.out.println("Child method3");
    }
    
    /* 
    // ‚ùå Cannot add new checked exception
    @Override
    public void method2() throws IOException {  // ERROR!
        System.out.println("Child method2");
    }
    */
}
```

## Interview Questions - Master Level! üí™

### **Q1: Can we use throw without throws?**
```java
public class ThrowWithoutThrows {
    public static void method1() {
        throw new RuntimeException("Unchecked exception");  // ‚úÖ OK
    }
    
    public static void method2() {
        // throw new IOException("Checked exception");  // ‚ùå Must use throws
    }
    
    public static void method3() throws IOException {
        throw new IOException("Checked exception");  // ‚úÖ OK
    }
    
    public static void main(String[] args) {
        try {
            method1();
        } catch (RuntimeException e) {
            System.out.println("Caught: " + e.getMessage());
        }
    }
}
```
**Answer**: 
- **Unchecked exceptions** (RuntimeException) - throws optional
- **Checked exceptions** - throws mandatory

### **Q2: Can we throw multiple exceptions?**
```java
public class MultipleExceptionsExample {
    public static void method() throws IOException, SQLException {
        boolean condition = Math.random() > 0.5;
        
        if (condition) {
            throw new IOException("IO Error");
        } else {
            throw new SQLException("Database Error");
        }
        
        // throw new IOException("First");
        // throw new SQLException("Second");  // ‚ùå Only one at a time
    }
    
    public static void main(String[] args) {
        try {
            method();
        } catch (IOException | SQLException e) {  // Multi-catch
            System.out.println("Caught: " + e.getMessage());
        }
    }
}
```
**Answer**: 
- **throws** - Multiple exceptions declare kar sakte hain
- **throw** - Only one exception at a time

### **Q3: throw vs return - what happens?**
```java
public class ThrowVsReturn {
    public static int method1() {
        throw new RuntimeException("Exception thrown");
        // return 5;  // ‚ùå Unreachable code
    }
    
    public static int method2() {
        try {
            throw new RuntimeException("Exception in try");
        } catch (RuntimeException e) {
            return 10;  // ‚úÖ Normal return after handling
        }
    }
    
    public static int method3() {
        try {
            return 5;
        } finally {
            throw new RuntimeException("Exception in finally");  // Overrides return
        }
    }
    
    public static void main(String[] args) {
        try {
            System.out.println(method2());  // Prints: 10
            System.out.println(method3());  // Throws exception
        } catch (RuntimeException e) {
            System.out.println("Caught: " + e.getMessage());
        }
    }
}
```
**Answer**: `throw` immediately terminates method execution.

### **Q4: Can we re-throw an exception?**
```java
public class RethrowExample {
    public static void method1() throws CustomException {
        try {
            throw new RuntimeException("Original exception");
        } catch (RuntimeException e) {
            // Log the exception
            System.out.println("Logging: " + e.getMessage());
            
            // Re-throw as different exception
            throw new CustomException("Re-thrown as custom exception", e);
        }
    }
    
    public static void method2() throws IOException {
        try {
            // Some risky operation
            throw new IOException("Original IO exception");
        } catch (IOException e) {
            // Add more context and re-throw same exception
            System.out.println("Adding context...");
            throw e;  // Re-throw same exception
        }
    }
    
    static class CustomException extends Exception {
        public CustomException(String message, Throwable cause) {
            super(message, cause);
        }
    }
    
    public static void main(String[] args) {
        try {
            method1();
        } catch (CustomException e) {
            System.out.println("Final catch: " + e.getMessage());
            System.out.println("Original cause: " + e.getCause().getMessage());
        }
    }
}
```
**Answer**: Haan, exceptions ko re-throw kar sakte hain for better error handling.

## Best Practices üåü

### **1. Use Specific Exceptions**
```java
// ‚ùå Generic - Not good
public void withdraw(double amount) throws Exception {
    // ...
}

// ‚úÖ Specific - Better
public void withdraw(double amount) throws InsufficientFundsException, IllegalArgumentException {
    // ...
}
```

### **2. Provide Meaningful Messages**
```java
// ‚ùå Poor message
throw new IllegalArgumentException("Invalid input");

// ‚úÖ Descriptive message
throw new IllegalArgumentException(
    "Age must be between 18 and 65, but received: " + age
);
```

### **3. Use Exception Chaining**
```java
public void processData(String data) throws DataProcessingException {
    try {
        // Some complex operation
    } catch (IOException e) {
        throw new DataProcessingException("Failed to process data: " + data, e);
    }
}
```

### **4. Clean Up Resources**
```java
public void readFile(String fileName) throws IOException {
    FileReader file = null;
    try {
        file = new FileReader(fileName);
        // Read file
    } finally {
        if (file != null) {
            file.close();
        }
    }
}

// Or use try-with-resources (better)
public void readFileModern(String fileName) throws IOException {
    try (FileReader file = new FileReader(fileName)) {
        // Read file - automatic cleanup
    }
}
```

## Common Mistakes - Avoid These! ‚ùå

### **1. Catching and Ignoring**
```java
// ‚ùå Bad practice
try {
    riskyOperation();
} catch (Exception e) {
    // Silent ignore - very bad!
}

// ‚úÖ Better approach
try {
    riskyOperation();
} catch (Exception e) {
    logger.error("Operation failed", e);
    // Handle appropriately
}
```

### **2. Throwing in finally**
```java
// ‚ùå Dangerous pattern
public void badMethod() {
    try {
        return "success";
    } finally {
        throw new RuntimeException("Finally exception");  // Overwrites return!
    }
}

// ‚úÖ Safe approach
public void goodMethod() {
    try {
        // risky code
    } finally {
        // cleanup only, no exceptions
        cleanupResources();
    }
}
```

### **3. Inappropriate Exception Types**
```java
// ‚ùå Wrong exception type
public void setAge(int age) {
    if (age < 0) {
        throw new IOException("Age cannot be negative");  // Wrong type!
    }
}

// ‚úÖ Appropriate exception type
public void setAge(int age) {
    if (age < 0) {
        throw new IllegalArgumentException("Age cannot be negative");
    }
}
```

## Summary - Quick Recap! üìù

### **Key Differences:**

| **Aspect** | **throw** | **throws** |
|------------|-----------|------------|
| **Action** | Actually throws exception | Declares possibility |
| **Location** | Inside method body | Method signature |
| **Purpose** | Force exception to occur | Inform caller |
| **Control** | Stops execution immediately | Normal execution |
| **Number** | One exception object | Multiple exception types |

### **Memory Tricks:**
- **throw** = "‡§•‡•ç‡§∞‡•ã" ‡§ï‡§∞‡§®‡§æ (actual action) üéØ
- **throws** = "‡§•‡•ç‡§∞‡•ã‡§ú‡§º" ‡§ï‡§∞‡§®‡§æ (possibility announce) üì¢

### **When to Use:**
- **throw**: Input validation, business rules, custom errors
- **throws**: File operations, network calls, database operations

### **Best Practices Summary:**
1. ‚úÖ Use specific exception types
2. ‚úÖ Provide meaningful error messages  
3. ‚úÖ Clean up resources in finally/try-with-resources
4. ‚úÖ Use exception chaining for better debugging
5. ‚úÖ Don't ignore exceptions silently
6. ‚úÖ Follow method overriding rules

Exception handling master karne ke liye practice karte raho! üöÄüí™

---
*Happy Exception Handling! üéâ*
