# Function Interface Java 8 - Complete Study Notes üìö

## Function Interface Kya Hai Bhai? ü§î

**Simple Words Mein**: Function interface ek predefined functional interface hai Java 8 mein jo kisi input ko leke, uspe koi operation perform karke output deta hai!

**Real Life Analogy**: Function interface ek **Magic Box** üì¶ ki tarah hai:
- **Input** dalo (koi bhi type) 
- **Process** hota hai (business logic)
- **Output** milta hai (different type ho sakta hai)

**Mathematical Example**: 
```
Input: 4 ‚Üí Operation: Square ‚Üí Output: 16
Input: "Hello" ‚Üí Operation: Length ‚Üí Output: 5
```

## Function Interface Structure üèóÔ∏è

### **Basic Prototype:**
```java
@FunctionalInterface
public interface Function<T, R> {
    R apply(T t);  // Main abstract method
    
    // Default methods
    default <V> Function<V, R> compose(Function<? super V, ? extends T> before) { }
    default <V> Function<T, V> andThen(Function<? super R, ? extends V> after) { }
    
    // Static method
    static <T> Function<T, T> identity() { }
}
```

### **Type Parameters:**
- **T** = Input type (jo data doge)
- **R** = Return type (jo result milega)

### **Key Points:**
- ‚úÖ **@FunctionalInterface** annotation hai
- ‚úÖ **Single Abstract Method (SAM)** - `apply()`
- ‚úÖ **Generic interface** - flexible types
- ‚úÖ **Java 8** mein introduce hua

## Basic Examples - Step by Step! üöÄ

### Example 1: Square of a Number üî¢

```java
import java.util.function.Function;

public class SquareExample {
    public static void main(String[] args) {
        // Function<Input Type, Output Type>
        Function<Integer, Integer> square = number -> number * number;
        
        // Using apply() method to execute
        System.out.println("Square of 4: " + square.apply(4));  // Output: 16
        System.out.println("Square of 5: " + square.apply(5));  // Output: 25
        System.out.println("Square of 7: " + square.apply(7));  // Output: 49
    }
}
```

**Output:**
```
Square of 4: 16
Square of 5: 25
Square of 7: 49
```

### Example 2: String Length Calculator üìè

```java
import java.util.function.Function;

public class StringLengthExample {
    public static void main(String[] args) {
        // String input ‚Üí Integer output
        Function<String, Integer> getLength = text -> text.length();
        
        System.out.println("Length of 'Hello': " + getLength.apply("Hello"));
        System.out.println("Length of 'Java Programming': " + getLength.apply("Java Programming"));
        System.out.println("Length of 'Function Interface': " + getLength.apply("Function Interface"));
    }
}
```

**Output:**
```
Length of 'Hello': 5
Length of 'Java Programming': 16
Length of 'Function Interface': 18
```

### Example 3: String to Uppercase üî§

```java
import java.util.function.Function;

public class StringTransformExample {
    public static void main(String[] args) {
        // String input ‚Üí String output
        Function<String, String> toUpperCase = text -> text.toUpperCase();
        Function<String, String> addPrefix = text -> "Mr. " + text;
        Function<String, String> addSuffix = text -> text + " ji";
        
        System.out.println(toUpperCase.apply("hello world"));
        System.out.println(addPrefix.apply("Sharma"));
        System.out.println(addSuffix.apply("Gupta"));
    }
}
```

**Output:**
```
HELLO WORLD
Mr. Sharma
Gupta ji
```

## Advanced Example - Student Grade Calculator! üéì

```java
import java.util.function.Function;

class Student {
    String name;
    int marks;
    
    public Student(String name, int marks) {
        this.name = name;
        this.marks = marks;
    }
    
    @Override
    public String toString() {
        return "Student{name='" + name + "', marks=" + marks + "}";
    }
}

public class StudentGradeExample {
    public static void main(String[] args) {
        // Student input ‚Üí String output (Grade)
        Function<Student, String> calculateGrade = student -> {
            int marks = student.marks;
            if (marks >= 90) return "A+";
            else if (marks >= 80) return "A";
            else if (marks >= 70) return "B+";
            else if (marks >= 60) return "B";
            else if (marks >= 50) return "C";
            else if (marks >= 40) return "D";
            else return "E";
        };
        
        // Student array
        Student[] students = {
            new Student("Rahul", 95),
            new Student("Priya", 87),
            new Student("Amit", 73),
            new Student("Neha", 64),
            new Student("Rohan", 52),
            new Student("Kavya", 41),
            new Student("Vikash", 33)
        };
        
        // Process each student
        System.out.println("=== STUDENT GRADE REPORT ===");
        for (Student student : students) {
            String grade = calculateGrade.apply(student);
            System.out.println("Name: " + student.name);
            System.out.println("Marks: " + student.marks);
            System.out.println("Grade: " + grade);
            System.out.println("--------------------------------");
        }
    }
}
```

**Output:**
```
=== STUDENT GRADE REPORT ===
Name: Rahul
Marks: 95
Grade: A+
--------------------------------
Name: Priya
Marks: 87
Grade: A
--------------------------------
Name: Amit
Marks: 73
Grade: B+
--------------------------------
Name: Neha
Marks: 64
Grade: B
--------------------------------
Name: Rohan
Marks: 52
Grade: C
--------------------------------
Name: Kavya
Marks: 41
Grade: D
--------------------------------
Name: Vikash
Marks: 33
Grade: E
--------------------------------
```

## Function Chaining - Power Unleash Karo! ‚õìÔ∏è

### **Two Types of Chaining:**

#### 1. **andThen()** - Pehle f1, phir f2
```java
f1.andThen(f2).apply(input)
// Step 1: f1 executes on input
// Step 2: f2 executes on f1's result
```

#### 2. **compose()** - Pehle f2, phir f1
```java
f1.compose(f2).apply(input)
// Step 1: f2 executes on input
// Step 2: f1 executes on f2's result
```

### **Detailed Example:**

```java
import java.util.function.Function;

public class FunctionChainingExample {
    public static void main(String[] args) {
        // Function 1: Multiply by 2
        Function<Integer, Integer> multiplyBy2 = x -> {
            System.out.println("Multiplying " + x + " by 2 = " + (x * 2));
            return x * 2;
        };
        
        // Function 2: Cube the number
        Function<Integer, Integer> cube = x -> {
            System.out.println("Cubing " + x + " = " + (x * x * x));
            return x * x * x;
        };
        
        System.out.println("=== USING andThen() ===");
        System.out.println("multiplyBy2.andThen(cube).apply(2):");
        int result1 = multiplyBy2.andThen(cube).apply(2);
        System.out.println("Final Result: " + result1);
        
        System.out.println("\n=== USING compose() ===");
        System.out.println("multiplyBy2.compose(cube).apply(2):");
        int result2 = multiplyBy2.compose(cube).apply(2);
        System.out.println("Final Result: " + result2);
    }
}
```

**Output:**
```
=== USING andThen() ===
multiplyBy2.andThen(cube).apply(2):
Multiplying 2 by 2 = 4
Cubing 4 = 64
Final Result: 64

=== USING compose() ===
multiplyBy2.compose(cube).apply(2):
Cubing 2 = 8
Multiplying 8 by 2 = 16
Final Result: 16
```

### **Visual Representation:**

#### **andThen() Flow:**
```
Input: 2 ‚Üí multiplyBy2() ‚Üí 4 ‚Üí cube() ‚Üí 64
```

#### **compose() Flow:**
```
Input: 2 ‚Üí cube() ‚Üí 8 ‚Üí multiplyBy2() ‚Üí 16
```

## Real-World Examples üåç

### Example 1: Price Calculator with Tax üí∞

```java
import java.util.function.Function;

public class PriceCalculatorExample {
    public static void main(String[] args) {
        // Functions for price calculation
        Function<Double, Double> applyDiscount = price -> price * 0.9; // 10% discount
        Function<Double, Double> addTax = price -> price * 1.18;       // 18% GST
        Function<Double, Double> addDelivery = price -> price + 50;    // ‚Çπ50 delivery
        
        double originalPrice = 1000.0;
        
        // Method 1: Step by step
        System.out.println("=== STEP BY STEP CALCULATION ===");
        System.out.println("Original Price: ‚Çπ" + originalPrice);
        
        double afterDiscount = applyDiscount.apply(originalPrice);
        System.out.println("After 10% Discount: ‚Çπ" + afterDiscount);
        
        double afterTax = addTax.apply(afterDiscount);
        System.out.println("After 18% Tax: ‚Çπ" + afterTax);
        
        double finalPrice = addDelivery.apply(afterTax);
        System.out.println("After Delivery Charges: ‚Çπ" + finalPrice);
        
        // Method 2: Function chaining
        System.out.println("\n=== USING FUNCTION CHAINING ===");
        double chainedResult = applyDiscount
            .andThen(addTax)
            .andThen(addDelivery)
            .apply(originalPrice);
        System.out.println("Final Price (Chained): ‚Çπ" + chainedResult);
    }
}
```

### Example 2: Data Processing Pipeline üìä

```java
import java.util.function.Function;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class DataProcessingExample {
    public static void main(String[] args) {
        // Sample data
        List<String> rawData = Arrays.asList(
            "  john doe  ", "  JANE SMITH  ", "  bob johnson  ", "  ALICE BROWN  "
        );
        
        // Data processing functions
        Function<String, String> trimSpaces = String::trim;
        Function<String, String> toLowerCase = String::toLowerCase;
        Function<String, String> capitalizeFirst = text -> {
            String[] words = text.split(" ");
            StringBuilder result = new StringBuilder();
            for (String word : words) {
                if (word.length() > 0) {
                    result.append(Character.toUpperCase(word.charAt(0)))
                          .append(word.substring(1))
                          .append(" ");
                }
            }
            return result.toString().trim();
        };
        
        // Process data using function chaining
        List<String> processedData = rawData.stream()
            .map(trimSpaces.andThen(toLowerCase).andThen(capitalizeFirst))
            .collect(Collectors.toList());
        
        System.out.println("Raw Data: " + rawData);
        System.out.println("Processed Data: " + processedData);
    }
}
```

**Output:**
```
Raw Data: [  john doe  ,   JANE SMITH  ,   bob johnson  ,   ALICE BROWN  ]
Processed Data: [John Doe, Jane Smith, Bob Johnson, Alice Brown]
```

## Built-in Functions - Ready to Use! üõ†Ô∏è

### 1. **Identity Function**
```java
import java.util.function.Function;

public class IdentityFunctionExample {
    public static void main(String[] args) {
        // Returns the same input as output
        Function<String, String> identity = Function.identity();
        
        System.out.println(identity.apply("Hello World"));  // Hello World
        System.out.println(identity.apply("Java 8"));       // Java 8
        
        // Useful in Stream operations
        List<String> names = Arrays.asList("Ram", "Shyam", "Gita");
        names.stream()
             .map(Function.identity())  // No transformation
             .forEach(System.out::println);
    }
}
```

### 2. **Method References with Function**
```java
import java.util.function.Function;

public class MethodReferenceExample {
    public static void main(String[] args) {
        // Lambda expression
        Function<String, Integer> lengthLambda = s -> s.length();
        
        // Method reference (more concise)
        Function<String, Integer> lengthMethodRef = String::length;
        
        // Both work the same way
        System.out.println("Lambda: " + lengthLambda.apply("Hello"));
        System.out.println("Method Ref: " + lengthMethodRef.apply("Hello"));
        
        // More method references
        Function<String, String> upperCase = String::toUpperCase;
        Function<String, String> lowerCase = String::toLowerCase;
        Function<String, String> trim = String::trim;
        
        String input = "  Hello World  ";
        System.out.println("Original: '" + input + "'");
        System.out.println("Trimmed: '" + trim.apply(input) + "'");
        System.out.println("Upper: '" + upperCase.apply(input.trim()) + "'");
        System.out.println("Lower: '" + lowerCase.apply(input.trim()) + "'");
    }
}
```

## Complex Function Chaining Example üîó

```java
import java.util.function.Function;

class Employee {
    String name;
    String department;
    double salary;
    int experience;
    
    public Employee(String name, String department, double salary, int experience) {
        this.name = name;
        this.department = department;
        this.salary = salary;
        this.experience = experience;
    }
    
    @Override
    public String toString() {
        return String.format("Employee{name='%s', dept='%s', salary=%.2f, exp=%d}", 
                           name, department, salary, experience);
    }
}

public class EmployeeProcessingExample {
    public static void main(String[] args) {
        // Complex function chain for employee bonus calculation
        Function<Employee, Double> calculateBaseBonus = emp -> emp.salary * 0.1;
        
        Function<Double, Double> experienceMultiplier = bonus -> bonus * 1.5; // 50% extra for experience
        
        Function<Double, Double> departmentBonus = bonus -> bonus + 5000; // ‚Çπ5000 extra for IT dept
        
        Function<Double, String> formatCurrency = amount -> String.format("‚Çπ%.2f", amount);
        
        // Employee data
        Employee emp1 = new Employee("Rajesh", "IT", 80000, 5);
        Employee emp2 = new Employee("Priya", "HR", 60000, 3);
        
        // Calculate bonus using function chaining
        String bonus1 = calculateBaseBonus
            .andThen(experienceMultiplier)
            .andThen(departmentBonus)
            .andThen(formatCurrency)
            .apply(emp1);
        
        String bonus2 = calculateBaseBonus
            .andThen(experienceMultiplier)
            .andThen(formatCurrency)
            .apply(emp2);
        
        System.out.println(emp1);
        System.out.println("Bonus: " + bonus1);
        System.out.println();
        System.out.println(emp2);
        System.out.println("Bonus: " + bonus2);
    }
}
```

## Function with Collections - Stream API Power! üìö

```java
import java.util.function.Function;
import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

public class FunctionWithCollectionsExample {
    public static void main(String[] args) {
        List<String> words = Arrays.asList(
            "java", "python", "javascript", "c++", "go", "rust", "kotlin"
        );
        
        // Function to get word length
        Function<String, Integer> getLength = String::length;
        
        // Function to capitalize
        Function<String, String> capitalize = word -> 
            word.substring(0, 1).toUpperCase() + word.substring(1);
        
        // Function to add prefix
        Function<String, String> addPrefix = word -> "Language: " + word;
        
        System.out.println("=== ORIGINAL WORDS ===");
        words.forEach(System.out::println);
        
        System.out.println("\n=== WORD LENGTHS ===");
        words.stream()
             .map(getLength)
             .forEach(length -> System.out.println("Length: " + length));
        
        System.out.println("\n=== CAPITALIZED WITH PREFIX ===");
        words.stream()
             .map(capitalize.andThen(addPrefix))
             .forEach(System.out::println);
        
        System.out.println("\n=== GROUP BY LENGTH ===");
        Map<Integer, List<String>> groupedByLength = words.stream()
            .collect(Collectors.groupingBy(getLength));
        
        groupedByLength.forEach((length, wordList) -> 
            System.out.println("Length " + length + ": " + wordList));
    }
}
```

## Interview Questions - Master Karo! üí™

### Q1: **Function interface ka purpose kya hai?**
**Answer**: Function interface ka main purpose hai input ko process karke output generate karna. Yeh transformation operations ke liye use hota hai jahan input aur output different types ke ho sakte hain.

### Q2: **andThen() aur compose() mein difference?**
```java
Function<Integer, Integer> f1 = x -> x * 2;
Function<Integer, Integer> f2 = x -> x + 10;

// andThen: f1 first, then f2
int result1 = f1.andThen(f2).apply(5); // (5*2) + 10 = 20

// compose: f2 first, then f1  
int result2 = f1.compose(f2).apply(5); // (5+10) * 2 = 30
```

### Q3: **Function vs Predicate vs Consumer difference?**
```java
// Function: Takes input, returns output
Function<String, Integer> function = String::length;

// Predicate: Takes input, returns boolean
Predicate<String> predicate = s -> s.length() > 5;

// Consumer: Takes input, returns nothing (void)
Consumer<String> consumer = System.out::println;
```

### Q4: **Can Function interface have multiple abstract methods?**
**Answer**: Nahi! Function interface ek **@FunctionalInterface** hai, so iska sirf ek hi abstract method hota hai - `apply()`. Baaki sab default ya static methods hain.

### Q5: **Identity function kab use karte hain?**
```java
// When you want to return input as-is
Function<String, String> identity = Function.identity();

// Useful in stream operations
list.stream()
    .map(Function.identity()) // No transformation
    .collect(Collectors.toList());
```

## Common Mistakes - Avoid Karo! ‚ùå

### 1. **Wrong Type Parameters**
```java
// ‚ùå Wrong
Function<String, String> wrong = s -> s.length(); // Returns int, not String

// ‚úÖ Correct
Function<String, Integer> correct = s -> s.length();
```

### 2. **Forgetting to call apply()**
```java
Function<Integer, Integer> square = x -> x * x;

// ‚ùå Wrong - function object
System.out.println(square); 

// ‚úÖ Correct - function result
System.out.println(square.apply(5));
```

### 3. **Null Handling**
```java
Function<String, Integer> getLength = s -> {
    if (s == null) {
        return 0; // Handle null case
    }
    return s.length();
};

// Or use Optional
Function<String, Integer> safeLengthFunction = s -> 
    Optional.ofNullable(s).map(String::length).orElse(0);
```

### 4. **Complex Logic in Lambda**
```java
// ‚ùå Too complex for lambda
Function<Student, String> complexGrade = student -> {
    // 20+ lines of complex logic
    // Hard to read and maintain
};

// ‚úÖ Better approach - separate method
Function<Student, String> simpleGrade = this::calculateGrade;

private String calculateGrade(Student student) {
    // Complex logic in separate method
    // More readable and testable
}
```

## Best Practices üåü

### 1. **Use Method References When Possible**
```java
// ‚úÖ Preferred
Function<String, Integer> length = String::length;
Function<String, String> upper = String::toUpperCase;

// Less preferred (but valid)
Function<String, Integer> lengthLambda = s -> s.length();
Function<String, String> upperLambda = s -> s.toUpperCase();
```

### 2. **Keep Functions Pure and Side-Effect Free**
```java
// ‚úÖ Pure function - no side effects
Function<Integer, Integer> pure = x -> x * 2;

// ‚ùå Impure function - has side effects
Function<Integer, Integer> impure = x -> {
    System.out.println("Processing: " + x); // Side effect!
    return x * 2;
};
```

### 3. **Use Descriptive Names**
```java
// ‚úÖ Clear and descriptive
Function<String, String> removeWhitespace = String::trim;
Function<Employee, Double> calculateBonus = emp -> emp.salary * 0.1;
Function<Product, String> formatPrice = prod -> "‚Çπ" + prod.price;

// ‚ùå Unclear names
Function<String, String> f1 = String::trim;
Function<Employee, Double> f2 = emp -> emp.salary * 0.1;
```

### 4. **Chain Functions for Complex Operations**
```java
// ‚úÖ Readable function chaining
Function<String, String> processName = input -> input
    .trim()
    .toLowerCase()
    .replaceAll("\\s+", " ");

// Or using andThen
Function<String, String> processName2 = String::trim
    .andThen(String::toLowerCase)
    .andThen(s -> s.replaceAll("\\s+", " "));
```

## Summary - Quick Recap! üìù

### **Function Interface Key Points:**
1. ‚úÖ **@FunctionalInterface** with single abstract method `apply(T t)`
2. ‚úÖ **Generic interface** - flexible input/output types  
3. ‚úÖ **Introduced in Java 8** for functional programming
4. ‚úÖ **Used for transformations** - input ‚Üí processing ‚Üí output
5. ‚úÖ **Supports method chaining** with `andThen()` and `compose()`
6. ‚úÖ **Works perfectly with Stream API**

### **When to Use Function Interface:**
- üéØ **Data transformation** operations
- üéØ **Business logic** processing
- üéØ **Stream operations** (map, flatMap)
- üéØ **Function composition** and chaining
- üéØ **Reusable logic** components

### **Function vs Other Functional Interfaces:**

| **Interface** | **Input** | **Output** | **Use Case** |
|---------------|-----------|------------|--------------|
| **Function<T,R>** | T | R | Transformation |
| **Predicate<T>** | T | boolean | Testing/Filtering |
| **Consumer<T>** | T | void | Processing without return |
| **Supplier<T>** | none | T | Generation/Factory |

### **Memory Trick:**
**Function** = **F**ormat, **F**ilter, **F**ix - ‡§π‡§∞ ‡§ö‡•Ä‡§ú‡§º ‡§ï‡•ã **F**ix ‡§ï‡§∞‡§ï‡•á ‡§®‡§Ø‡§æ **F**‡•â‡§∞‡•ç‡§Æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à! üîß

Practice these concepts with real examples and you'll master Function interface! üöÄüí™

---
*Happy Functional Programming! üéâ*
