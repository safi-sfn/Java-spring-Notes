# 🎯 BiConsumer Functional Interface in Java 8 - Complete Study Notes

---

## 🤔 Introduction - Confusion Clear Karte Hain!

### Simple Explanation First 📝
Bhai, **BiConsumer** matlab "दो चीज़ें लेकर कुछ करना"! Simple words mein - ye ek functional interface hai jo **दो arguments** लेता है, उन पर कोई operation perform करता है, और **कुछ return नहीं करता**.

### Real-Life Analogy 🍕
Socho ki tum pizza banane wale cook ho:
- **Input 1**: Pizza base (T type)
- **Input 2**: Toppings (U type) 
- **Action**: Toppings को base पर डालना
- **Output**: Kuch return नहीं, bas pizza ready ho गया!

```java
BiConsumer<PizzaBase, Toppings> makePizza = (base, toppings) -> {
    base.addToppings(toppings); // Kaam ho gaya, return kuch nahi!
};
```

### Technical Definition 🎓
> BiConsumer<T,U> ek predefined functional interface hai jo exactly **दो parameters** accept करता है और **void return type** रखता है।

---

## 🔑 Key Terms/Concepts

### 📚 Important Terminology

| Term | Hindi Meaning | Explanation |
|------|---------------|-------------|
| **BiConsumer** | दो-उपभोक्ता | Takes 2 inputs, returns nothing |
| **Functional Interface** | फंक्शनल इंटरफ़ेस | Interface with exactly 1 abstract method |
| **SAM** | एक अमूर्त विधि | Single Abstract Method |
| **Lambda Expression** | लैम्ब्डा एक्सप्रेशन | Short form to write functions |

### 🏗️ Structure Samjhte Hain:

```
      BiConsumer<T, U>
            |
    ┌───────┴────────┐
    │   accept()     │  ← SAM Method
    │   andThen()    │  ← Default Method
    └────────────────┘
```

---

## 💡 Detailed Examples

### 🎯 Basic BiConsumer Example

```java
import java.util.function.BiConsumer;

public class BiConsumerBasic {
    public static void main(String[] args) {
        // Simple addition operation
        BiConsumer<Integer, Integer> addNumbers = (a, b) -> {
            System.out.println("Sum: " + (a + b));
        };
        
        addNumbers.accept(5, 3); // Output: Sum: 8
        
        // String concatenation
        BiConsumer<String, String> combineNames = (firstName, lastName) -> {
            System.out.println("Full Name: " + firstName + " " + lastName);
        };
        
        combineNames.accept("Rahul", "Sharma"); // Output: Full Name: Rahul Sharma
    }
}
```

**Expected Output:**
```
Sum: 8
Full Name: Rahul Sharma
```

### 🏢 Real-World Employee Example (From Source)

```java
import java.util.ArrayList;
import java.util.List;
import java.util.function.BiConsumer;

class Employee {
    String name;
    double salary;
    
    public Employee(String name, double salary) {
        this.name = name;
        this.salary = salary;
    }
    
    @Override
    public String toString() {
        return "Employee{name='" + name + "', salary=" + salary + "}";
    }
}

public class BiConsumerEmployeeExample {
    public static void main(String[] args) {
        List<Employee> employees = new ArrayList<>();
        
        // Employee list banate hain
        employees.add(new Employee("Raj", 25000));
        employees.add(new Employee("Priya", 30000));
        employees.add(new Employee("Amit", 35000));
        
        System.out.println("=== Original Salaries ===");
        employees.forEach(System.out::println);
        
        // BiConsumer for salary increment
        BiConsumer<Employee, Double> incrementSalary = (emp, increment) -> {
            emp.salary += increment;
            System.out.println("💰 " + emp.name + " ki salary badh gayi by " + increment);
        };
        
        // Sabko 5000 increment dete hain
        System.out.println("\n=== Applying Increments ===");
        employees.forEach(emp -> incrementSalary.accept(emp, 5000.0));
        
        System.out.println("\n=== Updated Salaries ===");
        employees.forEach(System.out::println);
    }
}
```

**Expected Output:**
```
=== Original Salaries ===
Employee{name='Raj', salary=25000.0}
Employee{name='Priya', salary=30000.0}
Employee{name='Amit', salary=35000.0}

=== Applying Increments ===
💰 Raj ki salary badh gayi by 5000.0
💰 Priya ki salary badh gayi by 5000.0
💰 Amit ki salary badh gayi by 5000.0

=== Updated Salaries ===
Employee{name='Raj', salary=30000.0}
Employee{name='Priya', salary=35000.0}
Employee{name='Amit', salary=40000.0}
```

### 🔗 andThen() Method Example

```java
import java.util.function.BiConsumer;

public class BiConsumerAndThenExample {
    public static void main(String[] args) {
        // First BiConsumer - Print info
        BiConsumer<String, Integer> printInfo = (name, age) -> {
            System.out.println("📝 Processing: " + name + " (Age: " + age + ")");
        };
        
        // Second BiConsumer - Check eligibility
        BiConsumer<String, Integer> checkEligibility = (name, age) -> {
            if (age >= 18) {
                System.out.println("✅ " + name + " is eligible to vote!");
            } else {
                System.out.println("❌ " + name + " is not eligible to vote yet!");
            }
        };
        
        // Chain karte hain using andThen()
        BiConsumer<String, Integer> processAndCheck = printInfo.andThen(checkEligibility);
        
        System.out.println("=== Processing Voters ===");
        processAndCheck.accept("Rahul", 25);
        System.out.println();
        processAndCheck.accept("Ananya", 16);
    }
}
```

**Expected Output:**
```
=== Processing Voters ===
📝 Processing: Rahul (Age: 25)
✅ Rahul is eligible to vote!

📝 Processing: Ananya (Age: 16)
❌ Ananya is not eligible to vote yet!
```

---

## 📋 Rules/Guidelines

### ✅ Correct Usage Rules

1. **Rule 1**: BiConsumer हमेशा exactly 2 parameters लेता है
   ```java
   ✅ BiConsumer<String, Integer> correct = (s, i) -> System.out.println(s + i);
   ❌ BiConsumer<String> wrong; // Compilation Error!
   ```

2. **Rule 2**: Return type हमेशा void होता है
   ```java
   ✅ BiConsumer<Integer, Integer> add = (a, b) -> System.out.println(a + b);
   ❌ BiConsumer<Integer, Integer> wrong = (a, b) -> return a + b; // Error!
   ```

3. **Rule 3**: Lambda expression या method reference use कर सकते हैं
   ```java
   ✅ BiConsumer<String, String> lambda = (a, b) -> System.out.println(a + b);
   ✅ BiConsumer<PrintStream, String> methodRef = PrintStream::println;
   ```

4. **Rule 4**: andThen() null parameter accept नहीं करता
   ```java
   ✅ consumer1.andThen(consumer2);
   ❌ consumer1.andThen(null); // NullPointerException!
   ```

### Common Error Examples:

```java
// ❌ Wrong - Too many parameters
BiConsumer<String, Integer, Double> wrong = (s, i, d) -> {}; 
// Error: BiConsumer cannot be applied to <String,Integer,Double>

// ❌ Wrong - Trying to return something
BiConsumer<Integer, Integer> wrongReturn = (a, b) -> return a + b;
// Error: Unexpected return value

// ❌ Wrong - Not enough parameters
BiConsumer<String> incomplete = s -> System.out.println(s);
// Error: BiConsumer expects 2 type parameters
```

---

## 🌍 Real-world Applications

### 🏦 Banking System Example

```java
import java.util.function.BiConsumer;
import java.time.LocalDateTime;

class BankAccount {
    private String accountNumber;
    private double balance;
    
    public BankAccount(String accountNumber, double balance) {
        this.accountNumber = accountNumber;
        this.balance = balance;
    }
    
    // Getters and setters
    public String getAccountNumber() { return accountNumber; }
    public double getBalance() { return balance; }
    public void setBalance(double balance) { this.balance = balance; }
    
    @Override
    public String toString() {
        return "Account: " + accountNumber + ", Balance: ₹" + balance;
    }
}

public class BankingBiConsumerExample {
    public static void main(String[] args) {
        BankAccount account = new BankAccount("ACC001", 10000);
        
        System.out.println("Initial State: " + account);
        
        // BiConsumer for deposit
        BiConsumer<BankAccount, Double> deposit = (acc, amount) -> {
            acc.setBalance(acc.getBalance() + amount);
            System.out.println("💳 Deposited ₹" + amount + " at " + LocalDateTime.now());
        };
        
        // BiConsumer for withdrawal
        BiConsumer<BankAccount, Double> withdraw = (acc, amount) -> {
            if (acc.getBalance() >= amount) {
                acc.setBalance(acc.getBalance() - amount);
                System.out.println("💸 Withdrawn ₹" + amount + " at " + LocalDateTime.now());
            } else {
                System.out.println("❌ Insufficient balance!");
            }
        };
        
        // Transactions
        deposit.accept(account, 5000.0);
        System.out.println("After Deposit: " + account);
        
        withdraw.accept(account, 3000.0);
        System.out.println("After Withdrawal: " + account);
    }
}
```

### 🛒 E-commerce Cart System

```java
import java.util.function.BiConsumer;

class Product {
    String name;
    double price;
    
    public Product(String name, double price) {
        this.name = name;
        this.price = price;
    }
    
    @Override
    public String toString() {
        return name + " (₹" + price + ")";
    }
}

class ShoppingCart {
    double totalAmount = 0;
    int itemCount = 0;
    
    @Override
    public String toString() {
        return "Cart: " + itemCount + " items, Total: ₹" + totalAmount;
    }
}

public class EcommerceBiConsumerExample {
    public static void main(String[] args) {
        ShoppingCart cart = new ShoppingCart();
        
        // BiConsumer to add product to cart
        BiConsumer<ShoppingCart, Product> addToCart = (c, product) -> {
            c.totalAmount += product.price;
            c.itemCount++;
            System.out.println("🛒 Added " + product + " to cart");
        };
        
        // Products
        Product laptop = new Product("Laptop", 45000);
        Product mouse = new Product("Mouse", 800);
        Product keyboard = new Product("Keyboard", 1200);
        
        System.out.println("=== Shopping Session ===");
        System.out.println("Initial: " + cart);
        
        addToCart.accept(cart, laptop);
        System.out.println("Current: " + cart);
        
        addToCart.accept(cart, mouse);
        System.out.println("Current: " + cart);
        
        addToCart.accept(cart, keyboard);
        System.out.println("Final: " + cart);
    }
}
```

---

## 🆚 Comparison Tables

### BiConsumer vs Consumer vs BiFunction

| Feature | Consumer<T> | BiConsumer<T,U> | BiFunction<T,U,R> |
|---------|-------------|-----------------|-------------------|
| **Parameters** | 1 | 2 | 2 |
| **Return Type** | void | void | R (Generic) |
| **Use Case** | Single input operation | Two input operation | Two input with result |
| **Example** | `s -> print(s)` | `(s,i) -> print(s,i)` | `(a,b) -> a+b` |

### BiConsumer vs Other Bi- Interfaces

| Interface | Purpose | Return Type | Example |
|-----------|---------|-------------|---------|
| **BiConsumer<T,U>** | Consume 2 inputs | void | `(a,b) -> print(a,b)` |
| **BiFunction<T,U,R>** | Transform 2 inputs | R | `(a,b) -> a.concat(b)` |
| **BiPredicate<T,U>** | Test 2 inputs | boolean | `(a,b) -> a.equals(b)` |
| **BinaryOperator<T>** | Operate on same type | T | `(a,b) -> a + b` |

---

## 🎤 Interview Questions

### Q1: BiConsumer और Consumer में क्या difference है?

**Answer:**
```java
// Consumer - Single parameter
Consumer<String> consumer = name -> System.out.println("Hello " + name);
consumer.accept("Raj"); // Output: Hello Raj

// BiConsumer - Two parameters  
BiConsumer<String, Integer> biConsumer = (name, age) -> 
    System.out.println("Hello " + name + ", you are " + age + " years old");
biConsumer.accept("Raj", 25); // Output: Hello Raj, you are 25 years old
```

### Q2: andThen() method कैसे काम करता है?

**Answer:**
```java
BiConsumer<String, Integer> first = (name, age) -> 
    System.out.println("Step 1: Processing " + name);

BiConsumer<String, Integer> second = (name, age) -> 
    System.out.println("Step 2: Age verification for " + name + ": " + 
    (age >= 18 ? "Adult" : "Minor"));

// Chain करते हैं
BiConsumer<String, Integer> combined = first.andThen(second);
combined.accept("Priya", 22);

/* Output:
Step 1: Processing Priya
Step 2: Age verification for Priya: Adult
*/
```

### Q3: BiConsumer में exception handling कैसे करें?

**Answer:**
```java
BiConsumer<Integer, Integer> safeDivision = (a, b) -> {
    try {
        if (b == 0) {
            System.out.println("❌ Cannot divide by zero!");
            return;
        }
        System.out.println("✅ " + a + " ÷ " + b + " = " + (a/b));
    } catch (Exception e) {
        System.out.println("❌ Error: " + e.getMessage());
    }
};

safeDivision.accept(10, 2);  // ✅ 10 ÷ 2 = 5
safeDivision.accept(10, 0);  // ❌ Cannot divide by zero!
```

### Q4: Method Reference के साथ BiConsumer कैसे use करें?

**Answer:**
```java
class MathUtils {
    public static void printSum(Integer a, Integer b) {
        System.out.println("Sum: " + (a + b));
    }
    
    public static void printProduct(Integer a, Integer b) {
        System.out.println("Product: " + (a * b));
    }
}

public class MethodReferenceExample {
    public static void main(String[] args) {
        // Method reference with BiConsumer
        BiConsumer<Integer, Integer> sumPrinter = MathUtils::printSum;
        BiConsumer<Integer, Integer> productPrinter = MathUtils::printProduct;
        
        // Chain करते हैं
        BiConsumer<Integer, Integer> mathOperations = sumPrinter.andThen(productPrinter);
        
        mathOperations.accept(5, 3);
        /* Output:
        Sum: 8
        Product: 15
        */
    }
}
```

---

## ⚠️ Common Mistakes

### Mistake 1: Wrong Generic Types
```java
❌ // Wrong - String cannot be added to Integer
BiConsumer<String, Integer> wrong = (s, i) -> {
    int result = s + i; // Compilation Error!
};

✅ // Correct - Proper type handling
BiConsumer<String, Integer> correct = (s, i) -> {
    String result = s + " - " + i; // String concatenation
    System.out.println(result);
};
```

### Mistake 2: Trying to Return Values
```java
❌ // Wrong - BiConsumer cannot return anything
BiConsumer<Integer, Integer> wrong = (a, b) -> return a + b; // Error!

✅ // Correct - Use BiFunction for return values
BiFunction<Integer, Integer, Integer> correct = (a, b) -> a + b;
```

### Mistake 3: Null Handling in andThen()
```java
❌ // Wrong - Will throw NullPointerException
BiConsumer<String, String> first = (a, b) -> System.out.println(a + b);
BiConsumer<String, String> second = null;
first.andThen(second); // NullPointerException!

✅ // Correct - Null check karo
BiConsumer<String, String> first = (a, b) -> System.out.println(a + b);
BiConsumer<String, String> second = null;

if (second != null) {
    first.andThen(second);
} else {
    first.accept("Hello", "World");
}
```

### Mistake 4: Modifying Immutable Objects
```java
❌ // Wrong - String is immutable
BiConsumer<String, String> wrong = (s1, s2) -> {
    s1 = s1 + s2; // Ye local variable change karega, original nahi!
};

✅ // Correct - Use mutable objects or return new values
BiConsumer<StringBuilder, String> correct = (sb, s) -> {
    sb.append(s); // StringBuilder is mutable
};
```

---

## 🌟 Best Practices

### 1. 📝 Clear Naming Conventions
```java
✅ // Good - Clear purpose
BiConsumer<Employee, Double> salaryIncrement = (emp, amount) -> emp.salary += amount;
BiConsumer<String, String> logMessage = (level, message) -> 
    System.out.println("[" + level + "] " + message);

❌ // Bad - Unclear names  
BiConsumer<Employee, Double> bc = (e, d) -> e.salary += d;
BiConsumer<String, String> x = (a, b) -> System.out.println(a + b);
```

### 2. 🔍 Input Validation
```java
✅ // Good - Always validate inputs
BiConsumer<String, Integer> safeProcessor = (name, age) -> {
    if (name == null || name.trim().isEmpty()) {
        System.out.println("❌ Invalid name provided");
        return;
    }
    if (age < 0 || age > 150) {
        System.out.println("❌ Invalid age: " + age);
        return;
    }
    System.out.println("✅ Processing: " + name + " (Age: " + age + ")");
};
```

### 3. 🎯 Single Responsibility
```java
✅ // Good - Each BiConsumer has one job
BiConsumer<Product, ShoppingCart> addToCart = (product, cart) -> {
    cart.addItem(product);
};

BiConsumer<Product, ShoppingCart> logAddition = (product, cart) -> {
    System.out.println("Added " + product.getName() + " to cart");
};

// Chain them for complex operations
addToCart.andThen(logAddition).accept(laptop, myCart);

❌ // Bad - Doing too much in one BiConsumer
BiConsumer<Product, ShoppingCart> doEverything = (product, cart) -> {
    cart.addItem(product);
    System.out.println("Added to cart");
    cart.calculateTotal();
    cart.applyDiscount();
    cart.sendNotification();
    // Too many responsibilities!
};
```

### 4. 🛡️ Exception Safety
```java
✅ // Good - Proper exception handling
BiConsumer<String, String> safeFileWriter = (filename, content) -> {
    try {
        Files.write(Paths.get(filename), content.getBytes());
        System.out.println("✅ File written successfully: " + filename);
    } catch (IOException e) {
        System.err.println("❌ Failed to write file: " + e.getMessage());
    }
};
```

### 5. 📚 Documentation
```java
/**
 * BiConsumer to update employee salary with proper validation and logging
 * @param employee The employee whose salary needs to be updated
 * @param increment The increment amount (should be positive)
 */
BiConsumer<Employee, Double> updateSalary = (employee, increment) -> {
    if (employee == null) {
        System.out.println("❌ Employee cannot be null");
        return;
    }
    if (increment <= 0) {
        System.out.println("❌ Increment must be positive");
        return;
    }
    
    double oldSalary = employee.getSalary();
    employee.setSalary(oldSalary + increment);
    System.out.println("💰 " + employee.getName() + "'s salary updated from ₹" + 
                      oldSalary + " to ₹" + employee.getSalary());
};
```

---

## 📝 Summary/Quick Recap

### 🔑 Key Takeaways

1. **BiConsumer<T,U>** = **2 inputs** + **No return** + **Some operation**
2. **Two methods**: `accept(T t, U u)` और `andThen(BiConsumer after)`
3. **Perfect for**: Side effects, logging, updating objects, chaining operations
4. **Lambda syntax**: `(param1, param2) -> { /* operation */ }`

### 🧠 Memory Tricks

| याद रखने का तरीका | Example |
|-------------------|---------|
| **Bi = Two** | BiConsumer = **Two** parameters |
| **Consumer = Eats** | **Consumes** input, returns nothing |
| **Chain with andThen** | Like cooking steps: first this, **then** that |

### 🎯 When to Use What

```java
// ✅ Use BiConsumer when:
// - You need to perform operation on 2 inputs
// - You don't need return value
// - Side effects like logging, updating objects

BiConsumer<String, Integer> logger = (msg, level) -> log(msg, level);
BiConsumer<Employee, Double> updater = (emp, sal) -> emp.setSalary(sal);

// ❌ Don't use BiConsumer when:
// - You need return value (use BiFunction instead)
// - You have only 1 parameter (use Consumer instead)  
// - You need to test conditions (use BiPredicate instead)
```

### 🚀 Pro Tips for Interviews

1. **हमेशा mention करो**: "BiConsumer functional interface hai with exactly 2 parameters और void return type"
2. **andThen() example देना**: Shows advanced understanding
3. **Real-world examples**: Employee salary, logging, cart operations
4. **Exception handling**: Shows production-ready thinking
5. **Method reference knowledge**: `ClassName::methodName` syntax

---

## 🎉 Conclusion

Yaar, **BiConsumer** ek बहुत powerful functional interface है! Java 8 ke functional programming paradigm का ये important part है. 

**Remember the golden rule**: 
> "Do ChIzEiN lEkAr KuCh KaRnA, kUcH rEtUrN nAhI kArNa!" 🎯

Practice करते रहो different scenarios के साथ, और interviews में confident रहोगे! 

Happy Coding! 💻✨

---

*Made with ❤️ for Java developers by Java developers*

---
